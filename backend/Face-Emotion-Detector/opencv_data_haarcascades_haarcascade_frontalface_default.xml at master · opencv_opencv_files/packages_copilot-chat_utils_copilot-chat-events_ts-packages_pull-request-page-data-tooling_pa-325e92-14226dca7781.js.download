"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_copilot-chat_utils_copilot-chat-events_ts-packages_pull-request-page-data-tooling_pa-325e92"],{67154:(e,t,a)=>{function r(e){return"object"==typeof e&&null!==e&&"choices"in e&&Array.isArray(e.choices)}a.d(t,{Qx:()=>r,Yj:()=>n,wG:()=>i});let n={InProgress:"in_progress",Completed:"completed",Failed:"failed",Idle:"idle",WaitingForUser:"waiting_for_user",TimedOut:"timed_out",Cancelled:"cancelled",Queued:"queued"};function i(e){switch(e){case n.InProgress:return"In progress";case n.Completed:return"Ready for review";case n.Failed:return"Failed";case n.Idle:return"Idle";case n.WaitingForUser:return"Waiting for user";case n.TimedOut:return"Timed out";case n.Cancelled:return"Cancelled";case n.Queued:return"Queued";default:return"Unknown"}}},51120:(e,t,a)=>{a.d(t,{I:()=>s,j:()=>FetchCAPI401Error});var r=a(34295),n=a(99505),i=a(21067);let FetchCAPI401Error=class FetchCAPI401Error extends Error{constructor(e){super(e),this.name="FetchCAPI401Error"}};async function s({path:e,method:t="GET",streamingResponse:a=!1,body:s}){let o=new r.l,l=await o.getAuthToken();if(!l)throw Error("No token available");let c={authToken:l,basePath:(0,i._$)().copilotApiOverrideUrl??"https://api.githubcopilot.com",method:t,path:e,streamingResponse:a,body:s},d=await (0,n.p)(c);if(!d.ok){if(401===d.status)throw new FetchCAPI401Error("Unauthorized access - token may be invalid or expired");throw Error("Failed to fetch agent sessions")}return d}},55899:(e,t,a)=>{a.d(t,{u:()=>r});function r(){return crypto.randomUUID()}},34295:(e,t,a)=>{a.d(t,{l:()=>AgentSessionsTokenProvider});var r=a(65411);let AgentSessionsTokenProvider=class AgentSessionsTokenProvider extends r.J{constructor(){super([],"/copilot/agent-sessions/token","AGENT_SESSIONS_TOKEN")}}},39619:(e,t,a)=>{a.d(t,{HS:()=>s,Oc:()=>i,Tv:()=>c,Xr:()=>SymbolChangedEvent,f7:()=>o,fD:()=>l,qR:()=>n});var r=a(50467);let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),(0,r._)(this,"payload",void 0),this.payload=e}};Event;let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,a){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),(0,r._)(this,"reference",void 0),(0,r._)(this,"openPanel",void 0),(0,r._)(this,"id",void 0),this.reference=e,this.openPanel=t,this.id=a}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),(0,r._)(this,"context",void 0),this.context=e}};function n(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function i(e,t=!1,a){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,a))}function s(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function o(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function l(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function c(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},20622:(e,t,a)=>{a.d(t,{u:()=>r});let r={codeButton:"code_button",codeowners:"codeowners",commits:"commits",diffEntries:"diff_entries",diffstat:"diffstat",header:"header",mergeBox:"merge_box",mergeInstructions:"merge_instructions",pendingReview:"pending_review",statusChecks:"status_checks",tabCounts:"tab_counts",threadPreviews:"thread_previews",viewedFilesCount:"viewed_files_count",viewedFilesCount2:"viewed_files_count2",diffSummaries:"diff_summaries",diffViewUserSettings:"user_diff_view_settings",tableOfContents:"table_of_contents",diffCollapsedStatus:"diff_collapsed_status",diffContextLines:"diff_entry_lines",richDiff:"rich_diff",abandonReview:"abandon_review",addCommentReaction:"add_comment_reaction",changeBase:"change_base",cleanupCodespaces:"cleanup_codespaces",createReviewComment:"create_review_comment",deleteHeadRef:"delete_head_ref",dequeuePullRequest:"dequeue_pull_request",disableAutoMerge:"disable_auto_merge",enableAutoMerge:"enable_auto_merge",dismissReview:"dismiss_review",markReadyForReview:"mark_ready_for_review",merge:"merge",removeCommentReaction:"remove_comment_reaction",reRequestReviewFromUser:"re_request_review_from_user",restoreHeadRef:"restore_head_ref",resolveThread:"resolve_thread",runActionRequiredWorkflows:"run_action_required_workflows",submitReview:"submit_review",unresolveThread:"unresolve_thread",updateReviewComment:"update_review_comment",updatePullRequestBranch:"update_pull_request_branch",updateTitle:"update_title",updateDiffViewUserSettings:"update_diff_view_user_settings",updateViewedFiles:"update_viewed_files",updateMergeBoxUserPreference:"update_merge_box_user_preference",updateWhitespacePreference:"update_whitespace_preference",hideComment:"hide_comment",unhideComment:"unhide_comment",submitSuggestedChanges:"apply_suggestions"}},48845:(e,t,a)=>{a.d(t,{R:()=>i,hp:()=>n,ol:()=>AuthSessionExpiredError,q$:()=>s});var r=a(96379);let FetchRequestError=class FetchRequestError extends Error{constructor(e){super("Unable to perform this operation. Please try again later."),this.name="FetchRequestError",this.cause=e}};let ServerUnavailableError=class ServerUnavailableError extends Error{constructor(e){super("Unable to perform this operation. Please try again later."),this.name="ServerUnavailableError",this.cause=e}};let JSONParseFetchError=class JSONParseFetchError extends Error{constructor(e){super("Unable to read response from the server. Please try again later."),this.name="JSONParseFetchError",this.cause=e}};let AuthSessionExpiredError=class AuthSessionExpiredError extends Error{constructor(){super("Unable to perform this operation. Please try again later."),this.name="AuthSessionExpiredError"}};async function n(e){try{return await e.json()}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw new JSONParseFetchError(e)}}function i(e,t,a){if(!e.ok){if(e.status>=500)throw new ServerUnavailableError(e.status);if(a)throw a;if(t)throw Error(t?.error||"Unknown error occurred",{cause:e.status});throw Error(`HTTP ${e.status}`)}}async function s(e,t){try{return await (0,r.Sr)(e,t)}catch(e){throw new FetchRequestError(e)}}},30459:(e,t,a)=>{a.d(t,{S:()=>l,s:()=>o});var r=a(21728),n=a(96540),i=a(53419),s=a(49936);function o(){let e,t,a=(0,r.c)(6),o=(0,n.useContext)(s.I);if(!o)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:l,category:c,metadata:d}=o;a[0]!==l||a[1]!==c||a[2]!==d?(e=(e,t,a)=>{let r={react:!0,app_name:l,category:c,...d};(0,i.BI)(e,{...r,...void 0===a?{}:a,target:t})},a[0]=l,a[1]=c,a[2]=d,a[3]=e):e=a[3];let u=e;return a[4]!==u?(t={sendAnalyticsEvent:u},a[4]=u,a[5]=t):t=a[5],t}function l(){let e,t,a=(0,r.c)(4),{sendAnalyticsEvent:n}=o();a[0]!==n?(e=e=>{n("analytics.click",void 0,void 0===e?{}:e)},a[0]=n,a[1]=e):e=a[1];let i=e;return a[2]!==i?(t={sendClickAnalyticsEvent:i},a[2]=i,a[3]=t):t=a[3],t}},97189:(e,t,a)=>{a.d(t,{Fn:()=>l,eS:()=>o});var r=a(74848),n=a(21728),i=a(96540);let s=(0,i.createContext)(void 0);function o(){let e=(0,i.useContext)(s);if(!e)throw Error("useConsecutiveCAPI401sContext must be used within a ConsecutiveCAPI401sProvider");return e}function l(e){let t,a,o,l,d,u=(0,n.c)(7),{children:m}=e,[_,f]=(0,i.useState)(0);return u[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>f(c),o=()=>f(0),u[0]=a,u[1]=o):(a=u[0],o=u[1]),u[2]!==_?(l={numberOf401s:_,increment401s:a,reset401s:o},u[2]=_,u[3]=l):l=u[3],t=l,u[4]!==m||u[5]!==t?(d=(0,r.jsx)(s.Provider,{value:t,children:m}),u[4]=m,u[5]=t,u[6]=d):d=u[6],d}function c(e){return e+1}try{s.displayName||(s.displayName="ConsecutiveCAPI401sContext")}catch{}try{l.displayName||(l.displayName="ConsecutiveCAPI401sProvider")}catch{}},42455:(e,t,a)=>{a.d(t,{b:()=>l});var r=a(97286),n=a(51120),i=a(97189),s=a(34295),o=a(96540);function l(...e){let t=(0,r.I)(...e),{numberOf401s:a,increment401s:c,reset401s:d}=(0,i.eS)(),{isError:u,isLoading:m,error:_}=t;return(0,o.useEffect)(()=>{u&&_ instanceof n.j?c():u||m?a>5&&(new s.l().removeLocalStorageAuthToken(),d()):d()},[u,m,_,c,d,a]),t}},47865:(e,t,a)=>{a.d(t,{Z:()=>d});var r=a(21728),n=a(97665),i=a(94747),s=a(69599),o=a(51120),l=a(55899),c=a(93654);function d(e){let t,a,o,d,m,_,f,h,p,g=(0,r.c)(20),{onError:v}=e,y=(0,n.jE)();g[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.G7)("copilot_immersive_agent_branch_selection"),g[0]=t):t=g[0];let w=t;g[1]===Symbol.for("react.memo_cache_sentinel")?(a=["createTask"],g[1]=a):a=g[1],g[2]!==y?(o=async e=>{await y.cancelQueries({queryKey:c.ZL});let t=y.getQueryData(c.ZL)??[],a=function({clientGeneratedId:e,nwo:t,problemStatement:a,baseRef:r,eventType:n,subagent:i}){return{resource_type:"pull",resource_id:-1,session_count:1,latest_session_updated_at:new Date().toISOString(),latest_session_state:"in_progress",event_identifiers:[e],event_type:n,isOptimistic:!0,clientGeneratedId:e,nwo:t,problemStatement:a,baseRef:r,subagent:i}}(e);return y.setQueryData(c.ZL,[a,...t]),{previousTasks:t}},g[2]=y,g[3]=o):o=g[3],g[4]===Symbol.for("react.memo_cache_sentinel")?(d=async e=>{if(!(await u({...e,isBranchSelectionEnabled:w,title:e.problemStatement})).ok)throw Error(`Failed to create task: ${e.clientGeneratedId}`);return e.clientGeneratedId},g[4]=d):d=g[4],g[5]!==v||g[6]!==y?(m=(e,t)=>{let a=(y.getQueryData(c.ZL)??[]).filter(e=>e.clientGeneratedId!==t.clientGeneratedId);y.setQueryData(c.ZL,a),v?.(e,t)},g[5]=v,g[6]=y,g[7]=m):m=g[7],g[8]!==y?(_=()=>{y.invalidateQueries({queryKey:c.ZL})},g[8]=y,g[9]=_):_=g[9],g[10]!==o||g[11]!==m||g[12]!==_?(f={mutationKey:a,onMutate:o,mutationFn:d,onError:m,onSuccess:_},g[10]=o,g[11]=m,g[12]=_,g[13]=f):f=g[13];let b=(0,i.n)(f);g[14]!==b?(h=e=>{let t=(0,l.u)();b.mutate({...e,clientGeneratedId:t})},g[14]=b,g[15]=h):h=g[15];let E=h;return g[16]!==E||g[17]!==b.error||g[18]!==b.isPending?(p={createTask:E,isCreating:b.isPending,createError:b.error},g[16]=E,g[17]=b.error,g[18]=b.isPending,g[19]=p):p=g[19],p}async function u({clientGeneratedId:e,nwo:t,problemStatement:a,baseRef:r,isBranchSelectionEnabled:n,eventType:i,title:l,reference:c,subagent:d}){let u=`/agents/swe/jobs/${t}`,m=(0,s.G7)("copilot_agent_tasks_btn_file_reference"),_=c&&m?`On ${c}, `:"";return await (0,o.I)({path:u,method:"POST",body:{problem_statement:_+a,pull_request:{...n&&{base_ref:`refs/heads/${r}`},...l&&{title:l}},event_identifiers:[e],event_type:i,subagent:d}})}},64846:(e,t,a)=>{a.d(t,{Q:()=>s});var r=a(69599),n=a(82075),i=a(96540);function s(e){let t=(0,n.D)("localStorage"),a=(0,r.G7)("copilot_agent_task_caching");return{value:(0,i.useMemo)(()=>{if(a)return t.getItem(e)??void 0},[a,t,e]),setValue:r=>{a&&t.setItem(e,r)},removeItem:()=>{a&&t.removeItem(e)}}}},91865:(e,t,a)=>{a.d(t,{ET:()=>l,Iw:()=>d,V4:()=>m,ms:()=>c});var r=a(96540),n=a(97286),i=a(40458),s=a(67154),o=a(64846);let l="AGENT_SESSIONS_PR_MAP";function c(e){return Array.from(new Set(e?e.map(e=>e.resource_id):[])).sort((e,t)=>Number(e)-Number(t)).join(",")}let d=async(e,t)=>{let a=c(e);if(!a)return{};let r=await fetch(`/copilot/agent-sessions/pull-requests?pull_request_ids=${encodeURIComponent(a)}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!r.ok)throw Error("Failed to fetch pull requests");let n=(await r.json()).pull_requests;return t(n),n};async function u(e,t){if(!t)return{id:e,diffstat:null};let a=new URL(t,window.location.origin),r=a.pathname+a.search+a.hash,n=await fetch(`${r}/page_data/diffstat`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!n.ok)throw Error(`Failed to fetch diffstat for PR ${e}`);let i=await n.json();return{id:e,diffstat:{lines_added:i.diffstat.linesAdded??0,lines_deleted:i.diffstat.linesDeleted??0,lines_changed:i.diffstat.linesChanged??0}}}function m({tasks:e,sessionsPollingInterval:t=3e3,initialPullRequestsMap:a}){let m=c(e),{value:_,setValue:f}=(0,o.Q)(l),h=(0,r.useRef)(a??{}),p=(0,n.I)({queryKey:["agent-sessions-pull-requests",m],queryFn:async()=>await d(e,f),initialData:a??_,refetchInterval:t,refetchIntervalInBackground:!1,enabled:m.length>0}),g={};for(let t of e)void 0!==t.resource_id&&(g[t.resource_id]=t);let v=p.data?Object.values(p.data):[],y=(0,i.E)({queries:v.map(e=>({queryKey:["diffstat",e.id,e.url],queryFn:()=>u(e.id,e.url),enabled:g[e.id]?.latest_session_state===s.Yj.Completed}))}),w={};for(let e of y)e.data&&(w[e.data.id]=e.data.diffstat??void 0);if(p.data){let e={};for(let t of Object.values(p.data))e[t.id]={...t,diffstat:w[t.id]};h.current={...h.current,...e}}let b=(0,r.useMemo)(()=>h.current,[p.data,w]);return{...p,data:b}}},93654:(e,t,a)=>{a.d(t,{ZL:()=>c,j:()=>u,si:()=>m,xZ:()=>d});var r=a(21728),n=a(97665),i=a(42455),s=a(51120),o=a(91865),l=a(64846);let c=["agent-tasks"],d="AGENT_SESSIONS_TASKS",u=async(e,t)=>{let a=await (0,s.I)({path:"/agents/sessions"}),r=function(e,t){let a=e.map(e=>{let a=t.find(t=>e.event_identifiers?.includes(t.clientGeneratedId));return{...e,isOptimistic:!!a,...a&&{problemStatement:a.problemStatement,nwo:a.nwo,baseRef:a.baseRef,clientGeneratedId:a.clientGeneratedId}}}),r=t.filter(e=>!a.some(t=>t.event_identifiers?.includes(e.clientGeneratedId)));return[...a,...r].sort((e,t)=>new Date(t.latest_session_updated_at).getTime()-new Date(e.latest_session_updated_at).getTime())}(function(e){let t=new Map;for(let a of e){let e=t.get(a.resource_id.toString());e?(e.session_count+=1,new Date(a.last_updated_at)>new Date(e.latest_session_updated_at)&&(e.latest_session_updated_at=a.last_updated_at,e.latest_session_state=a.state)):t.set(a.resource_id.toString(),{resource_type:a.resource_type,resource_id:a.resource_id,session_count:1,latest_session_updated_at:a.last_updated_at,latest_session_state:a.state,event_identifiers:a.event_identifiers})}return Array.from(t.values()).sort((e,t)=>new Date(t.latest_session_updated_at).getTime()-new Date(e.latest_session_updated_at).getTime())}((await a.json()).sessions),(e.getQueryData(c)||[]).filter(e=>!0===e.isOptimistic));return t(r),r};function m(e){let t,a,s,m,h,p,g,v,y,w=(0,r.c)(26);w[0]!==e?(t=void 0===e?{}:e,w[0]=e,w[1]=t):t=w[1];let{sessionsPollingInterval:b,initialTasks:E,initialPullRequestsMap:S}=t,C=void 0===b?3e3:b,{value:N,setValue:x}=(0,l.Q)(d),I=(0,n.jE)();w[2]!==I||w[3]!==x?(a=async()=>await u(I,x),w[2]=I,w[3]=x,w[4]=a):a=w[4];let R=E??N;w[5]!==C||w[6]!==a||w[7]!==R?(s={queryKey:c,queryFn:a,initialData:R,refetchInterval:C,refetchIntervalInBackground:!1},w[5]=C,w[6]=a,w[7]=R,w[8]=s):s=w[8];let T=(0,i.b)(s);w[9]!==T.data?(h=T.data||[],w[9]=T.data,w[10]=h):h=w[10],m=h,w[11]!==m?(p=m.filter(f),w[11]=m,w[12]=p):p=w[12];let k=p;w[13]!==S||w[14]!==C||w[15]!==k?(g={tasks:k,sessionsPollingInterval:C,initialPullRequestsMap:S},w[13]=S,w[14]=C,w[15]=k,w[16]=g):g=w[16];let{data:j,isError:A,isLoading:L}=(0,o.V4)(g);if(w[17]!==m||w[18]!==j){let e;w[20]!==j?(e=e=>{if(void 0===e.resource_id)return e;let t=j[e.resource_id];return t?{...e,isOptimistic:!1,pull:t}:{...e,pull:void 0}},w[20]=j,w[21]=e):e=w[21],v=m.map(e).filter(_),w[17]=m,w[18]=j,w[19]=v}else v=w[19];let P=v,q=T.isLoading&&!T.data||L&&!S,F=T.isError||A;return w[22]!==F||w[23]!==q||w[24]!==P?(y={tasks:P,isLoading:q,isError:F},w[22]=F,w[23]=q,w[24]=P,w[25]=y):y=w[25],y}function _(e){return!0===e.isOptimistic||void 0!==e.pull}function f(e){return void 0!==e.resource_id}},51880:(e,t,a)=>{a.d(t,{B:()=>l});var r=a(74848),n=a(29731),i=a(34164),s=a(24347);let o={container:"LeadingContent-module__container--cui6v",isSelectable:"LeadingContent-module__isSelectable--EzWvg"},l=({style:e,className:t,children:a})=>{let{isSelectable:l}=(0,s.v)();return(0,r.jsx)("div",{className:(0,i.$)(o.container,l&&o.isSelectable,t),...(0,n.G)("list-view-item-leading-content"),style:e,children:a})};try{l.displayName||(l.displayName="ListItemLeadingContent")}catch{}},65964:(e,t,a)=>{a.d(t,{e:()=>f});var r=a(74848),n=a(29731),i=a(30729),s=a(34164),o=a(96540),l=a(35220);let c={outer:"LeadingVisual-module__outer--qS9Ac",hasNewActivity:"LeadingVisual-module__hasNewActivity--qA_H9",defaultVariant:"LeadingVisual-module__defaultVariant--Qhbnu",inner:"LeadingVisual-module__inner--GeEeG"};var d=a(49744),u=a(27603);let m={container:"UnreadIndicator-module__container--X6F4o"},_=()=>(0,r.jsx)("div",{className:m.container,children:(0,r.jsx)("span",{className:"sr-only",...(0,n.G)("list-view-item-unread-indicator"),children:"New activity."})});try{_.displayName||(_.displayName="ListItemUnreadIndicator")}catch{}function f({icon:e,color:t,description:a,newActivity:m=!1,className:f,children:h,...p}){let{variant:g}=(0,l.e)(),{setStatus:v}=(0,u.x)(),{setHasNewActivity:y}=(0,d.I)(),w=a?.trim();return(0,o.useEffect)(()=>{y(m)},[m,y]),(0,o.useEffect)(()=>{w&&v(w)},[v,w]),(0,r.jsxs)("div",{className:(0,s.$)(c.outer,"default"===g&&c.defaultVariant,m&&c.hasNewActivity,f),...p,children:[(0,r.jsx)("div",{children:(0,r.jsxs)("div",{...(0,n.G)("list-view-leading-visual"),className:c.inner,children:[e&&(0,r.jsx)(i.A,{"aria-label":"",icon:e,color:t}),h,w&&(0,r.jsx)("span",{className:"sr-only",...(0,n.G)("leading-visual-text-description"),children:w})]})}),m&&(0,r.jsx)(_,{})]})}try{f.displayName||(f.displayName="ListItemLeadingVisual")}catch{}},4929:(e,t,a)=>{a.d(t,{V:()=>o});var r=a(74848),n=a(29731),i=a(34164);let s={metadata:"Metadata-module__metadata--ODMG0",secondary:"Metadata-module__secondary--1te4w",primary:"Metadata-module__primary--S8Orc",alignRight:"Metadata-module__alignRight--A1PHa"};function o({children:e,alignment:t,variant:a,...o}){return(0,r.jsx)("div",{...(0,n.G)("list-view-item-metadata-item"),...o,className:(0,i.$)(s.metadata,"primary"===a?s.primary:s.secondary,"right"===t&&s.alignRight,o.className),children:e})}try{o.displayName||(o.displayName="ListItemMetadata")}catch{}},95378:(e,t,a)=>{a.d(t,{kx:()=>S,ao:()=>E});var r,n,i=a(74848),s=a(20263),o=a(73017),l=a(29731),c=a(34164),d=a(96540),u=a(56825),m=a(35220),_=a(87670),f=a(87826),h=a(24347);let p={container:"Selection-module__container--OQE4d",containerWithDragHandle:"Selection-module__containerWithDragHandle--mLWh4",dragTrigger:"Selection-module__dragTrigger--SM4bZ",compact:"Selection-module__compact--azMKM",checkbox:"Selection-module__checkbox--X3ras",checkboxCompact:"Selection-module__checkboxCompact--zfQtx"};var g=a(60257),v=a(74501);let y=()=>{let{variant:e}=(0,m.e)(),{isSelectable:t,hasDragHandle:a}=(0,h.v)(),{isSelected:r,onSelect:n}=(0,g.r)(),{title:s}=(0,v.J)();return t?(0,i.jsxs)("div",{className:a?p.containerWithDragHandle:p.container,...(0,l.G)("list-view-item-selection"),children:[a&&(0,i.jsx)(_.BS.DragTrigger,{className:(0,c.$)(p.dragTrigger,"compact"===e&&p.compact)}),(0,i.jsx)(f.A,{className:"default"===e?p.checkbox:p.checkboxCompact,checked:r,onChange:()=>n(!r),"aria-label":`Select: ${s}`,"data-listview-component":"selection-input",...(0,l.G)("list-view-item-selection-input")})]}):null};try{y.displayName||(y.displayName="ListItemSelection")}catch{}let w={anchor:"Title-module__anchor--GmXUE",heading:"Title-module__heading--s7YnL",compact:"Title-module__compact--eK6hD",container:"Title-module__container--XD9YG",trailingBadgesSpacer:"Title-module__trailingBadgesSpacer--Son9W",trailingBadgesContainer:"Title-module__trailingBadgesContainer--mijcn",inline:"Title-module__inline--oM0P7"};function b({children:e,containerStyle:t,containerClassName:a,headerContainerRef:r,headingStyle:n,headingClassName:s,headingRef:o,leadingBadge:d,trailingBadges:_,header:f}){let{variant:h}=(0,m.e)(),{headingRef:p}=(0,v.J)(),g=(0,u.m)("listitem");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{...(0,l.G)("list-view-item-title-container"),style:t,className:(0,c.$)(w.container,"compact"===h&&w.compact,a),ref:r,children:[(0,i.jsxs)(g,{className:(0,c.$)(w.heading,"compact"===h&&w.compact,s),style:n,ref:e=>{if(p&&(p.current=e),o&&"current"in o)try{o.current=e}catch{}},...(0,l.G)("list-view-item-title"),children:[d,f]}),_&&(0,i.jsx)("span",{className:w.trailingBadgesSpacer}),(0,i.jsx)("span",{className:w.trailingBadgesContainer,children:_}),e]}),(0,i.jsx)(y,{})]})}function E({children:e,value:t,containerStyle:a,containerClassName:r,headerContainerRef:n,headingStyle:s,headingClassName:o,headingRef:l,leadingBadge:c,trailingBadges:u,anchorRef:m,..._}){let f=(0,d.useRef)(null),h=m||f;return N({anchorRef:h,..._}),(0,i.jsx)(b,{header:_.href||_.onClick?(0,i.jsx)(C,{anchorRef:h,..._,children:(0,i.jsx)("span",{children:t})}):(0,i.jsx)("span",{children:t}),containerStyle:a,containerClassName:r,headerContainerRef:n,headingStyle:s,headingClassName:o,headingRef:l,leadingBadge:c,trailingBadges:u,children:e})}function S({children:e,html:t,containerStyle:a,containerClassName:r,headerContainerRef:n,headingStyle:o,headingClassName:l,headingRef:c,leadingBadge:d,trailingBadges:u,...m}){return N(m),(0,i.jsx)(b,{header:(0,i.jsx)(s.BC,{html:t,...m}),containerStyle:a,containerClassName:r,headerContainerRef:n,headingStyle:o,headingClassName:l,headingRef:c,leadingBadge:d,trailingBadges:u,children:e})}function C({anchorStyle:e,anchorClassName:t,anchorRef:a,linkProps:r,children:n,...s}){let{as:o="a",...u}=r??{},m=(0,d.useRef)(null);return(0,i.jsx)(o,{...(0,l.G)("listitem-title-link"),style:e,ref:a||m,className:(0,c.$)(w.anchor,w.inline,t),...s,...u,children:n})}let N=({href:e,onClick:t,anchorRef:a})=>{let{setTitleAction:r,headingRef:n}=(0,v.J)();return(0,d.useEffect)(()=>{(e||t)&&r(()=>t=>{if(e&&(t.metaKey||t.ctrlKey))window.open(e,"_blank");else if(a?.current)a.current.click();else if(n?.current){let e=n.current.querySelector("a, button");e&&e.click()}})},[a,n,e,t,r]),null};try{b.displayName||(b.displayName="InternalTitle")}catch{}try{(r=TitleTag).displayName||(r.displayName="TitleTag")}catch{}try{E.displayName||(E.displayName="ListItemTitle")}catch{}try{S.displayName||(S.displayName="ListItemSafeHTMLTitle")}catch{}try{(n=function({children:e,html:t,containerStyle:a,containerClassName:r,headerContainerRef:n,headingStyle:s,headingClassName:l,headingRef:c,leadingBadge:d,trailingBadges:u,...m}){return N(m),(0,i.jsx)(b,{header:(0,i.jsx)(o.JR,{html:t,...m}),containerStyle:a,containerClassName:r,headerContainerRef:n,headingStyle:s,headingClassName:l,headingRef:c,leadingBadge:d,trailingBadges:u,children:e})}).displayName||(n.displayName="ListItemUnsafeHTMLTitle")}catch{}try{C.displayName||(C.displayName="HeadingLink")}catch{}},20263:(e,t,a)=>{a.d(t,{BC:()=>l,JU:()=>d,Pk:()=>o});var r=a(74848),n=a(21998),i=a(99418),s=a(96540);let o=u(n.az),l=u(n.EY),c=(0,s.forwardRef)((e,t)=>(0,r.jsx)("div",{ref:t,...e}));c.displayName="Div";let d=u(c);function u(e){let t=(0,s.forwardRef)((t,a)=>{let{sanitizedHTML:n,props:s}=function(e){let{html:t,domPurifyConfig:a,...r}=e,n={...a,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1};return{sanitizedHTML:i.default.sanitize(t,n),props:r}}(t);return(0,r.jsx)(e,{ref:a,...s,dangerouslySetInnerHTML:{__html:n}})});return t.displayName=`UnsafeHTML${e.displayName||e.name}`,t}try{d.displayName||(d.displayName="UnsafeHTMLDiv")}catch{}}}]);
//# sourceMappingURL=packages_copilot-chat_utils_copilot-chat-events_ts-packages_pull-request-page-data-tooling_pa-325e92-b8324ddf2c0f.js.map